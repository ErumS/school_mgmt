<h2>Teacher:</h2>
<p><%= @teacher.name %></p>
<p><%= @teacher.subject_name %></p>
<p><%= @teacher.salary %></p>

<h2>Students</h2>
<% @teacher.students.each do |student| %>
  <p>
    <strong>Name:</strong>
    <%= student.name %>
  </p> 
  <p>
    <strong>Address:</strong>
    <%= student.address %>
  </p>
  <p>
    <strong>Phone no:</strong>
    <%= student.phone_no %>
  </p>
  <p>
    <strong>Percentage:</strong>
    <%= student.percentage %>
  </p>
  <p>
    <%= link_to 'Edit student', edit_student_path(student) %> <br>
    <%= link_to 'Destroy student', student, method: :delete, data: { confirm: 'Are you sure?' } %>
  </p>
<% end %>

<h2>Add a student:</h2>
<%= form_for @teacher.students.build do |form| %>
  <p>
    <%= form.label :name %><br>
    <%= form.text_field :name %>
  </p>
  <p>
    <%= form.label :address %><br>
    <%= form.text_area :address %>
  </p>
  <p>
    <%= form.label :phone_no %><br>
    <%= form.text_area :phone_no %>
  </p>
  <p>
    <%= form.label :percentage %><br>
    <%= form.text_area :percentage %>
  </p>
  <%= form.hidden_field :teacher_ids, :value => @teacher.id %>
  <%= form.hidden_field :school_id, :value => @teacher.school_id %>
  <%= form.hidden_field :student_ids, :value => @teacher.student_ids %>
  <p>
    <%= form.submit "Add" %>
  </p>
<% end %>
<br> <%= link_to 'All students', students_path %> <br>

<%= link_to 'Edit teacher', edit_teacher_path(@teacher) %>  |
<%= link_to 'Back', teachers_path %>